<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!--will scale to diff browser sizes-->
      <title>Gigl - Profile</title>
      <!--title on browser window-->
      <style>
         /* Basic styling for the title */
         .collapsible-title {
         cursor: pointer;
         color: #3498db;
         }
         /* Hide the checkbox */
         .collapsible-toggle {
         display: none;
         }
         /* By default, hide the collapsible content */
         .collapsible-content {
         display: none;
         list-style-type: none;
         padding: 0;
         margin: 0;
         }
         /* Display the content when the checkbox is checked */
         .collapsible-toggle:checked+.collapsible-content {
         display: block;
         }
         section {
         margin: 0 auto;
         width: 80%;
         padding: 1em;
         }
      </style>


<script>
    function openTab(event, tabName) {
        var tabcontent = document.getElementsByClassName("tab-content");
        for (var i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        var tablinks = document.getElementsByClassName("tab-link");
        for (var i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" bg-gray-300", "");
        }

        document.getElementById(tabName).style.display = "block";
        event.currentTarget.className += " bg-gray-300";
    }
</script>
      <!-- Including the styles from index.css -->
   </head>
   <body>
      {% include 'header.html' %} <!--JINJA2 template for the header-->
      <main>
         <br>
         <section class= "rounded-lg bg-gray-100 border border-gray-100">
            <h2 class="text-xl font-bold"> Your Profile </h2>
            <h3> Name: {{username}} </h3>
            <h3> Email: {{user_email}} </h3>
         </section>
         <section>
            <div class="flex flex-col items-center justify-center">
               <!-- Tabs -->
               <div class="mb-4 space-x-10">
                   <button class="tab-link px-4 py-2 font-semibold bg-gray-200 hover:bg-gray-300" onclick="openTab(event, 'Table1')">My Gigs</button>
                   <button class="tab-link px-4 py-2 font-semibold bg-gray-200 hover:bg-gray-300" onclick="openTab(event, 'Table2')">My Apps</button>
               </div>
           
               <!-- Content -->
               <div id="Table1" class="tab-content w-full" style="display:block">
                  <table class="w-full">
                     <thead class="bg-gray-200 border-b-2 border-gray-200">
                        <tr>
                           <th class="p-3 text-sm font-semibold tracking-wide text-left">Gig Title</th>
                           <th class="p-3 text-sm font-semibold tracking-wide text-left">Posted On</th>
                           <th class="p-3 text-sm font-semibold tracking-wide text-left">Start Date</th>
                           <th class="p-3 text-sm font-semibold tracking-wide text-left">End Date</th>
                           <th class="p-3 text-sm font-semibold tracking-wide text-left">Category</th>
                        </tr>
                     </thead>
                     <tbody class="divide-y divide-gray-150">
                        {% for gig in mygigs %}
                        <tr class="bg-gray-100">
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap"><a href="{{ url_for('details', id=gig.get_gigID()) }}" class="font-bold text-blue-500 hover:underline">{{ gig.get_title() }}</a></td>
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap">{{ gig.get_post_date() }}</td>
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap">{{ gig.get_fromdate() }}</td>
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap">{{ gig.get_til_date() }}</td>
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap">
                              {% if gig.get_category() == 'teaching' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-blue-800 bg-blue-200 rounded-lg bg-opacity-50">
                              Teaching
                              </span>
                              {% elif gig.get_category() == 'research' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50">
                              Research
                              </span>
                              {% elif gig.get_category() == 'technical' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-yellow-800 bg-yellow-200 rounded-lg bg-opacity-50">
                              Technical
                              </span>
                              {% elif gig.get_category() == 'writing' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-red-800 bg-red-200 rounded-lg bg-opacity-50">
                              Writing
                              </span>
                              {% elif gig.get_category() == 'graphic_design' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-purple-800 bg-purple-200 rounded-lg bg-opacity-50">
                              Graphic Design
                              </span>
                              {% elif gig.get_category() == 'photography_film' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-pink-800 bg-pink-200 rounded-lg bg-opacity-50">
                              Photography/Film
                              </span>
                              {% elif gig.get_category() == 'events' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-indigo-800 bg-indigo-200 rounded-lg bg-opacity-50">
                              Events
                              </span>
                              {% elif gig.get_category() == 'marketing' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-gray-800 bg-gray-200 rounded-lg bg-opacity-50">
                              Marketing
                              </span>
                              {% elif gig.get_category() == 'administrative' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-blue-800 bg-blue-200 rounded-lg bg-opacity-50">
                              Administrative
                              </span>
                              {% elif gig.get_category() == 'volunteer' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50">
                              Volunteer
                              </span>
                              {% elif gig.get_category() == 'fitness' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-yellow-800 bg-yellow-200 rounded-lg bg-opacity-50">
                              Fitness
                              </span>
                              {% elif gig.get_category() == 'other' %}
                              <span class="p-2 text-xs font-medium uppercase tracking-wider text-red-800 bg-red-200 rounded-lg bg-opacity-50">
                              Other
                              </span>
                              {% endif %}
                           </td>
                        </tr>
                        {% endfor %}
                     </tbody>
                  </table>
               </div>
               <div id="Table2" class="tab-content w-full" style="display:none">
                  <table class="w-full">
                     <thead class="bg-gray-200 border-b-2 border-gray-200">
                        <tr>
                           <th class="w-20 p-3 text-sm font-semibold tracking-wide text-left">Gig ID</th>
                           <th class="p-3 text-sm font-semibold tracking-wide text-left">Application Message</th>
                        </tr>
                     </thead>
                     <tbody class="divide-y divide-gray-150">
                        {% for app in myapps %}
                        <tr class="bg-gray-100">
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap"><a href="{{ url_for('details', id=app.get_gigID()) }}" class="font-bold text-blue-500 hover:underline">#{{ app.get_gigID() }}</a></td>
                           <td scope="row" class="p-3 text-sm text-gray-700 whitespace-nowrap">{{ app.get_message() }}</td>
                        </tr>
                        {% endfor %}
                     </tbody>
                  </table>
               </div>
           </div>
         </section>

         
      </main>
   </body>
</html>